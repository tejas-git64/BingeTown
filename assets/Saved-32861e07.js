import{r as s,o as x,j as a,_ as v,d as f,e as h,f as g,a as y}from"./index-9063daab.js";import{NameContext as j}from"./Layout-f9530c97.js";import{M as _}from"./MovieShowFalback-cb9c21f5.js";import{m as n}from"./motion-bbc167dd.js";import"./icons8-list-50-96a5d3c6.js";const b=s.lazy(()=>v(()=>import("./SavedTitle-a7b83b6a.js"),["assets/SavedTitle-a7b83b6a.js","assets/index-9063daab.js","assets/index-283280f8.css"]));function R(){const t=s.useContext(j);s.useEffect(()=>{const i=x(y,e=>{if(e){const c=e.uid,u=f(h,"saved",c);(async function(){const o=(await g(u)).data();o&&(t==null||t.saved[1](o))})()}});return()=>i()},[t==null?void 0:t.saved]);function l(){return new Promise(i=>{setTimeout(i,2e3)})}const d={initial:{opacity:0,translateY:-20},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-20},transition:{type:"spring",duration:3,ease:"easeIn"}},r={animate:{x:0,opacity:1,transition:{staggerChildren:.15,ease:"easeInOut",duration:1}}},m=()=>{var i;return a.jsx(a.Fragment,{children:a.jsx(n.div,{variants:r,animate:"animate",exit:"exit",transition:{duration:1},style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gridTemplateRows:"repeat(auto-fill, minmax(200px, 1fr))",rowGap:"30px",columnGap:"35px"},className:"mb-16 mt-4 max-h-max min-h-[1000px] w-full gap-y-5 pl-4 sm:gap-y-8 sm:pl-0",children:(i=t==null?void 0:t.saved[0])!=null&&i.savedtitles?t.saved[0].savedtitles.map(e=>a.jsx(n.div,{variants:r,children:a.jsx(b,{id:e.id,type:e.type,title:e.title,poster_path:e.poster_path,vote_average:e.vote_average,release_date:e.release_date})},e.id)):a.jsx("div",{children:"You have no saved titles"})})})},p=()=>{var i;if((i=t==null?void 0:t.saved[0])!=null&&i.savedtitles)return a.jsx(m,{});throw l()};return a.jsx(a.Fragment,{children:a.jsxs(n.div,{variants:d,initial:"initial",animate:"animate",exit:"exit",transition:{delay:.5,duration:1},className:"h-auto w-full bg-neutral-900 px-6 pb-2 text-left md:px-20",children:[a.jsx("p",{className:"mb-2 py-2 pt-24 text-xl font-bold text-teal-400 md:text-2xl",children:"Saved"}),a.jsx(s.Suspense,{fallback:a.jsx(_,{}),children:a.jsx(p,{})})]})})}export{R as default};
