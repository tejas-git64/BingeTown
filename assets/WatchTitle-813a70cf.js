import{r as $,u as k,a as d,d as M,j as e,y as R,z as C,e as D}from"./index-9063daab.js";import{m as S}from"./icons8-menu-78-ea0fb072.js";function P({title:n,id:l,poster_path:o,release_date:r,type:i,vote_average:a}){var m;const[h,c]=$.useState(!1),u=k(),x=d.currentUser?(m=d.currentUser)==null?void 0:m.uid:"",f=M(D,"watchlist",x);function p(t,s){u(t==="tv"?`/tvshows/${s}`:`/movies/${s}`)}function b(t){t.stopPropagation(),t.preventDefault(),c(!0)}async function g(t,{title:s,id:v,poster_path:w,release_date:j,type:N,vote_average:y}){t.preventDefault(),t.stopPropagation(),await R(f,{watchlist:C({id:v,poster_path:w,release_date:j,title:s,type:N,vote_average:y})})}return e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>p(i,l),className:"relative mx-auto h-auto w-44",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/w300${o}`,alt:"image-cover",className:"mb-2 h-60 w-full rounded-md bg-gray-400"}),e.jsx("h3",{className:`whitespace-pre-line\r
					 text-left font-bold text-teal-500`,children:n}),e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-start justify-center",children:[e.jsxs("div",{className:"mb-1 flex text-sm font-bold",children:[e.jsx("h4",{className:"mr-2 text-white",children:"Rating:"}),e.jsx("h4",{className:"mt-[1px]",children:a===0?"NA":`${a}âœ¨`})]}),e.jsx("h3",{className:"whitespace-nowrap text-xs font-semibold text-gray-700",children:r})]}),e.jsx("button",{onClick:b,className:"h-auto border-none bg-transparent p-0 outline-none",children:e.jsx("img",{src:S,alt:"title-menu",className:"h-7 w-7"})})]}),e.jsx("div",{onMouseLeave:t=>{t.preventDefault(),c(!1)},className:`${h?"absolute":"hidden"} bottom-0 flex w-full flex-col rounded-md bg-black py-2`,children:e.jsx("button",{onClick:t=>g(t,{title:n,id:l,poster_path:o,release_date:r,type:i,vote_average:a}),className:"mx-auto w-full rounded-none border-none bg-transparent py-1.5 text-center text-xs font-bold text-white outline-none hover:bg-neutral-700",children:"Remove from watchlist"})})]})})}export{P as default};
