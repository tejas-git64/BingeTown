import{r as s,j as t,_ as J}from"./index-9063daab.js";import{M as O}from"./MovieShowFalback-cb9c21f5.js";import{m as l}from"./motion-bbc167dd.js";const Y=s.lazy(()=>J(()=>import("./MovieTitle-a33f88f2.js"),["assets/MovieTitle-a33f88f2.js","assets/index-9063daab.js","assets/index-283280f8.css","assets/icons8-menu-78-ea0fb072.js","assets/icons8-list-50-96a5d3c6.js"]));function V(){const[i,p]=s.useState(null),[o,c]=s.useState(null),[r,x]=s.useState(null),[m,u]=s.useState("null"),v=new AbortController,a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmMDI1NDQ5NTNmYWM2YzU0M2RkZGZlYTNmNWZmMTU5OCIsInN1YiI6IjY0OGIzOTQ0NDJiZjAxMDBlNDljZjVmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.iUW3GfRNm04SDxrpeOst_ngTbcCXzp0Dmo93b5F325Q"}};async function f(){const n=await(await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",a)).json();x(n.genres)}async function w(){p([]);const n=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",a)).json(),S=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=2",a)).json(),N=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=3",a)).json(),M=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=4",a)).json(),I=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=5",a)).json(),U=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=6",a)).json(),C=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=7",a)).json(),G=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=8",a)).json(),T=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=9",a)).json(),D=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=10",a)).json();p([...n.results,...S.results,...N.results,...M.results,...I.results,...U.results,...C.results,...G.results,...T.results,...D.results]),c(i)}function j(){return new Promise(e=>{setTimeout(e,2e3)})}const d=s.useCallback(e=>{const n=e==="all"?i:i==null?void 0:i.filter(h=>h.genre_ids.includes(Number(e)));n&&c(n)},[i]);s.useEffect(()=>(f(),w(),u("all"),()=>{v.abort()}),[]),s.useEffect(()=>{d(m)},[m,d]);const b={initial:{opacity:0,translateY:-20},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-20},transition:{type:"spring",duration:3,ease:"easeIn"}},g={initial:{x:"-10rem",opacity:0},animate:{x:0,opacity:1,transition:{staggerChildren:.05,ease:"easeInOut",duration:1}}},_=()=>t.jsx(t.Fragment,{children:t.jsx(l.div,{variants:g,initial:"initial",animate:"animate",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gridTemplateRows:"repeat(auto-fill, minmax(200px, 1fr))",rowGap:"30px",columnGap:"30px"},className:"mb-16 mt-4 max-h-max min-h-[1000px] w-full gap-y-5 pl-4 sm:gap-y-8 sm:pl-0",children:o==null?void 0:o.map(e=>t.jsx(l.div,{variants:g,children:t.jsx(Y,{adult:!1,backdrop_path:"",first_air_date:"",genre_ids:[],id:e.id,genre:0,original_language:"",original_title:"",overview:"",popularity:0,poster_path:e.poster_path,release_date:e.release_date,title:e.title,video:!1,vote_average:e.vote_average,vote_count:0})},e.id))})}),y=()=>{if(!i||!o)throw j();return t.jsx(_,{})};return t.jsx(t.Fragment,{children:t.jsxs(l.div,{variants:b,initial:"initial",animate:"animate",exit:"exit",transition:{delay:.5,duration:1},className:"max-h-max min-h-[1000px] w-full bg-neutral-800 px-6 pb-2 pt-20 text-left md:px-20",children:[t.jsxs("div",{className:"flex w-full items-center justify-between px-4 sm:px-0",children:[t.jsx("h3",{className:"mb-2 py-2 text-xl font-bold text-teal-400 md:text-2xl",children:"Movies"}),t.jsxs("select",{name:"Sort by Genre",onChange:e=>u(e.target.value),className:"h-8 w-40 rounded-md bg-neutral-600 px-2 font-semibold text-white",children:[t.jsx("option",{id:"all",value:"all",className:"text-white hover:bg-black hover:text-teal-400",children:"All"}),r==null?void 0:r.map(e=>t.jsx("option",{value:e.id,className:"text-white hover:bg-black hover:text-teal-400",children:e.name},e.id))]})]}),t.jsx(s.Suspense,{fallback:t.jsx(O,{}),children:t.jsx(y,{})})]})})}export{V as default};
