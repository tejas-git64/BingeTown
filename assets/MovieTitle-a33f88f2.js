import{r as f,u as L,a as p,d as b,j as t,y as j,Q as v,e as g}from"./index-9063daab.js";import{m as P}from"./icons8-menu-78-ea0fb072.js";import{w as T,s as A}from"./icons8-list-50-96a5d3c6.js";function W({title:l,release_date:o,vote_average:s,poster_path:r,id:i}){var w;const[N,a]=f.useState(""),y=L(),[k,n]=f.useState(!1),h=p.currentUser?(w=p.currentUser)==null?void 0:w.uid:"",D=b(g,"saved",h),S=b(g,"watchlist",h);function C(e){switch(!0){case e===0:a("text-gray-600");break;case(e<=5&&e>1):a("text-red-500");break;case(e>5&&e<7):a("text-yellow-600");break;case(e>7&&e<=10):a("text-green-500");break;default:a("text-gray-600");break}}function M(e){e.preventDefault(),y(`/movies/${i}`)}function R(e){e.stopPropagation(),e.preventDefault(),n(!0)}async function $(e,c,d,m,u,x){e.stopPropagation(),e.preventDefault(),n(!1),await j(D,{savedtitles:v({id:c,type:"movie",title:d,poster_path:m,vote_average:u,release_date:x})})}async function E(e,c,d,m,u,x){e.stopPropagation(),e.preventDefault(),n(!1),await j(S,{watchlist:v({id:c,type:"movie",watched:!1,title:d,poster_path:m,vote_average:u,release_date:x})})}return f.useEffect(()=>{C(s)},[s]),t.jsx(t.Fragment,{children:t.jsxs("div",{onClick:M,className:"relative mx-auto mr-6 flex h-80 w-40 flex-shrink-0 flex-col items-start justify-start overflow-hidden md:mr-10 md:h-auto md:w-44",children:[t.jsx("img",{src:`https://image.tmdb.org/t/p/w300/${r}`,alt:"movie-poster",className:"mb-2 h-56 w-40 cursor-pointer rounded-lg transition-all delay-[2] ease-in hover:scale-90 md:h-64 md:w-44"}),t.jsx("h3",{className:`whitespace-pre-line\r
					 text-left font-bold text-teal-500`,children:l}),t.jsxs("div",{className:"flex w-full items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col items-start justify-center",children:[t.jsxs("div",{className:"mb-1 flex text-sm font-bold",children:[t.jsx("h4",{className:"mr-2 text-white",children:"Rating:"}),t.jsx("h4",{className:`${N} mt-[1px]`,children:s===0?"NA":`${s}âœ¨`})]}),t.jsx("h3",{className:"whitespace-nowrap text-xs font-semibold text-gray-700",children:o})]}),t.jsx("button",{onClick:R,className:"h-auto border-none bg-transparent p-0 outline-none",children:t.jsx("img",{src:P,alt:"title-menu",className:"h-7 w-7"})})]}),t.jsxs("div",{onMouseLeave:e=>{e.preventDefault(),n(!1)},className:`${k?"absolute":"hidden"} bottom-0 flex w-full flex-col rounded-md bg-black py-3`,children:[t.jsxs("button",{onClick:e=>E(e,i,l,r,s,o.toString()),className:"mx-auto mb-1 flex w-full justify-between rounded-none border-none bg-transparent py-1.5 outline-none hover:bg-neutral-700",children:[t.jsx("h4",{className:"text-xs font-semibold text-white",children:"Add to watchlist"}),t.jsx("img",{src:T,alt:"add",className:"h-5 w-5"})]}),t.jsxs("button",{onClick:e=>$(e,i,l,r,s,o.toString()),className:"mx-auto flex w-full justify-between rounded-none border-none bg-transparent py-1.5 outline-none hover:bg-neutral-700",children:[t.jsx("h4",{className:"text-xs font-semibold text-white",children:"Save"}),t.jsx("img",{src:A,alt:"save",className:"h-5 w-5"})]})]})]})})}export{W as default};
