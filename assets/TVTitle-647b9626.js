import{r as d,u as R,a as x,d as h,j as t,y as f,Q as w,e as b}from"./index-9063daab.js";import{m as T}from"./icons8-menu-78-ea0fb072.js";import{w as $,s as M}from"./icons8-list-50-96a5d3c6.js";function A({name:n,first_air_date:o,vote_average:s,poster_path:r,id:c}){var m;const[p,a]=d.useState(""),j=R(),[N,l]=d.useState(!1),u=x.currentUser?(m=x.currentUser)==null?void 0:m.uid:"",v=h(b,"saved",u),y=h(b,"watchlist",u);function g(e){switch(!0){case e===0:a("text-gray-600");break;case(e<=5&&e>0):a("text-red-500");break;case(e>5&&e<7):a("text-yellow-600");break;case(e>7&&e<=10):a("text-green-500");break;default:a("text-gray-600");break}}async function k(e,i){e.stopPropagation(),e.preventDefault(),l(!1),await f(v,{savedtitles:w({id:i,type:"tv",title:n,poster_path:r,vote_average:s,release_date:o})})}async function C(e,i){e.stopPropagation(),e.preventDefault(),l(!1),await f(y,{watchlist:w({id:i,type:"tv",watched:!0,title:n,poster_path:r,vote_average:s,release_date:o})})}function D(e){e.stopPropagation(),e.preventDefault(),l(!0)}function S(){j(`/tvshows/${c}`)}return d.useEffect(()=>{g(s)},[s]),t.jsx(t.Fragment,{children:t.jsxs("div",{onClick:S,className:"mx-auto mr-6 flex h-80 w-40 flex-shrink-0 flex-col items-start justify-start overflow-hidden hover:drop-shadow-2xl md:mr-10 md:h-auto md:w-44",children:[t.jsx("img",{src:`https://image.tmdb.org/t/p/w300/${r}`,alt:"movie-poster",className:"mb-2 h-56 w-40 cursor-pointer rounded-lg transition-all delay-[1] ease-in hover:scale-90 md:h-64 md:w-44"}),t.jsx("h3",{className:`whitespace-pre-line\r
					 text-left font-bold text-teal-500`,children:n}),t.jsxs("div",{className:"flex w-full items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col items-start justify-center",children:[t.jsxs("div",{className:"mb-1 flex text-sm font-bold",children:[t.jsx("h4",{className:"mr-2 text-white",children:"Rating:"}),t.jsx("h4",{className:`${p} mt-[1px]`,children:s===0?"NA":`${s}âœ¨`})]}),t.jsx("h3",{className:"whitespace-nowrap text-xs font-semibold text-gray-700",children:o})]}),t.jsx("button",{onClick:D,className:"h-auto border-none bg-transparent p-0 outline-none",children:t.jsx("img",{src:T,alt:"title-menu",className:"h-7 w-7"})})]}),t.jsxs("div",{onMouseLeave:e=>{e.preventDefault(),l(!1)},className:`${N?"absolute":"hidden"} bottom-0 flex w-full flex-col rounded-md bg-black py-3`,children:[t.jsxs("button",{onClick:e=>C(e,c),className:"mx-auto mb-1 flex w-full justify-between rounded-none border-none bg-transparent py-1.5 outline-none hover:bg-neutral-700",children:[t.jsx("h4",{className:"text-xs font-semibold text-white",children:"Add to watchlist"}),t.jsx("img",{src:$,alt:"add",className:"h-5 w-5"})]}),t.jsxs("button",{onClick:e=>k(e,c),className:"mx-auto flex w-full justify-between rounded-none border-none bg-transparent py-1.5 outline-none hover:bg-neutral-700",children:[t.jsx("h4",{className:"text-xs font-semibold text-white",children:"Save"}),t.jsx("img",{src:M,alt:"save",className:"h-5 w-5"})]})]})]})})}export{A as default};
