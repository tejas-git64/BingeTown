import{r as s,o as x,j as a,_ as h,d as f,e as g,f as y,a as v}from"./index-9063daab.js";import{NameContext as _}from"./Layout-f9530c97.js";import{M as j}from"./MovieShowFalback-cb9c21f5.js";import{m as n}from"./motion-bbc167dd.js";import"./icons8-list-50-96a5d3c6.js";const w=s.lazy(()=>h(()=>import("./WatchTitle-813a70cf.js"),["assets/WatchTitle-813a70cf.js","assets/index-9063daab.js","assets/index-283280f8.css","assets/icons8-menu-78-ea0fb072.js"]));function P(){const t=s.useContext(_);s.useEffect(()=>{const i=x(v,e=>{if(e){const d=e.uid,u=f(g,"watchlist",d);(async function(){const o=(await y(u)).data();o&&(t==null||t.watchlist[1](o))})()}});return()=>i()},[t==null?void 0:t.watchlist]);function l(){return new Promise(i=>{setTimeout(i,2e3)})}const m={initial:{opacity:0,translateY:-20},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-20},transition:{type:"spring",duration:3,ease:"easeIn"}},r={animate:{x:0,opacity:1,transition:{staggerChildren:.15,ease:"easeInOut",duration:1}}},p=()=>{var i;return a.jsx(a.Fragment,{children:a.jsx(n.div,{variants:r,animate:"animate",exit:"exit",transition:{delay:.5,duration:1},style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gridTemplateRows:"repeat(auto-fill, minmax(200px, 1fr))",rowGap:"30px",columnGap:"30px"},className:"mb-16 mt-4 max-h-max min-h-[1000px] w-full gap-y-5 pl-4 sm:gap-y-8 sm:pl-0",children:(i=t==null?void 0:t.watchlist[0])==null?void 0:i.watchlist.map(e=>a.jsx(n.div,{variants:r,children:a.jsx(w,{id:e.id,type:e.type,title:e.title,poster_path:e.poster_path,vote_average:e.vote_average,release_date:e.release_date})},e.id))})})},c=()=>{var i;if((i=t==null?void 0:t.watchlist[0])!=null&&i.watchlist)return a.jsx(p,{});throw l()};return a.jsx(a.Fragment,{children:a.jsxs(n.div,{variants:m,initial:"initial",animate:"animate",exit:"exit",transition:{delay:.5,duration:1},className:"h-auto w-full bg-neutral-900 px-6 pb-2 text-left md:px-20",children:[a.jsx("p",{className:"mb-2 py-2 pt-24 text-xl font-bold text-teal-400 md:text-2xl",children:"WatchList"}),a.jsx(s.Suspense,{fallback:a.jsx(j,{}),children:a.jsx(c,{})})]})})}export{P as default};
