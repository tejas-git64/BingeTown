import{r as s,j as e,_ as M}from"./index-9063daab.js";import{M as O}from"./MovieShowFalback-cb9c21f5.js";import{m as l}from"./motion-bbc167dd.js";const Y=s.lazy(()=>M(()=>import("./TVTitle-647b9626.js"),["assets/TVTitle-647b9626.js","assets/index-9063daab.js","assets/index-283280f8.css","assets/icons8-menu-78-ea0fb072.js","assets/icons8-list-50-96a5d3c6.js"]));function B(){const[i,p]=s.useState(null),[o,c]=s.useState(null),[r,x]=s.useState(null),[u,m]=s.useState(""),v=new AbortController,a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmMDI1NDQ5NTNmYWM2YzU0M2RkZGZlYTNmNWZmMTU5OCIsInN1YiI6IjY0OGIzOTQ0NDJiZjAxMDBlNDljZjVmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.iUW3GfRNm04SDxrpeOst_ngTbcCXzp0Dmo93b5F325Q"}};async function f(){const n=await(await fetch("https://api.themoviedb.org/3/genre/tv/list?language=en",a)).json();x(n.genres)}async function w(){p([]);const n=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=1",a)).json(),y=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=2",a)).json(),N=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=3",a)).json(),I=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=4",a)).json(),T=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=5",a)).json(),U=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=6",a)).json(),C=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=7",a)).json(),G=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=8",a)).json(),D=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=9",a)).json(),J=await(await fetch("https://api.themoviedb.org/3/tv/popular?language=en-US&page=10",a)).json();p([...n.results,...y.results,...N.results,...I.results,...T.results,...U.results,...C.results,...G.results,...D.results,...J.results]),c(i)}function j(){return new Promise(t=>{setTimeout(t,2e3)})}const d=s.useCallback(t=>{const n=t==="all"?i:i==null?void 0:i.filter(h=>h.genre_ids.includes(Number(t)));n&&c(n)},[i]);s.useEffect(()=>(f(),w(),m("all"),()=>{v.abort()}),[]),s.useEffect(()=>{d(u)},[u,d]);const g={initial:{x:"-10rem",opacity:0},animate:{x:0,opacity:1,transition:{staggerChildren:.05,ease:"easeInOut",duration:1}}},b=()=>e.jsx(e.Fragment,{children:e.jsx(l.div,{variants:g,initial:"initial",animate:"animate",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gridTemplateRows:"repeat(auto-fill, minmax(200px, 1fr))",rowGap:"30px",columnGap:"30px"},className:"mb-10 mt-4 h-auto w-full pl-4 sm:pl-0",children:o==null?void 0:o.map(t=>e.jsx(l.div,{variants:g,children:e.jsx(Y,{adult:!1,backdrop_path:"",first_air_date:t.first_air_date,genre_ids:[],id:t.id,original_language:"",overview:"",popularity:0,poster_path:t.poster_path,title:"",vote_average:t.vote_average,vote_count:0,isShow:!1,name:t.name,origin_country:[],original_name:"",show_vote_average:""})},t.id))})}),S=()=>{if(!i||!o)throw j();return e.jsx(b,{})},_={initial:{opacity:0,translateY:-20},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-20},transition:{type:"spring",duration:3,ease:"easeIn"}};return e.jsx(e.Fragment,{children:e.jsxs(l.div,{variants:_,initial:"initial",animate:"animate",exit:"exit",transition:{delay:.5,duration:1},className:"max-h-max min-h-[1000px] w-full bg-neutral-800 px-6 pb-8 pt-20 text-left md:px-20",children:[e.jsxs("div",{className:"flex w-full items-center justify-between px-4 sm:px-0",children:[e.jsx("h3",{className:"mb-2 py-2 text-xl font-bold text-teal-400 md:text-2xl",children:"TV Shows"}),e.jsxs("select",{name:"Sort by Genre",onChange:t=>m(t.target.value),className:"h-8 w-48 rounded-md bg-neutral-600 px-2 font-semibold text-white",children:[e.jsx("option",{id:"all",value:"all",className:"text-white hover:bg-black hover:text-teal-400",children:"All"}),r==null?void 0:r.map(t=>e.jsx("option",{value:t.id,className:"text-white hover:bg-black hover:text-teal-400",children:t.name},t.id))]})]}),e.jsx(s.Suspense,{fallback:e.jsx(O,{}),children:e.jsx(S,{})})]})})}export{B as default};
